import { Aside, BlogMarkdown } from '../../components'

export const meta = {
  title: 'Algolia 🤝 Sanity',
}

## Algolia 🤝 Sanity

At ajmadison.com, we use [Algolia](https://www.algolia.com/) to power our e-commerce search/filter experience. We also use [Sanity](https://sanity.io/) (CMS) to powers experience like https://www.ajmadison.com/learn/.

[Algolia Rules](https://www.algolia.com/doc/guides/managing-results/rules/rules-overview/) work great for these usecases:
- Boost and bury categories
- Filter results
- Pin products
- Hide products

Howerver, rules can be clunky for content customization:
- Rules have the ability to control [which filters show](https://www.algolia.com/doc/guides/solutions/ecommerce/business-users/ongoing-optimizations/merchandise-facets/). In our case, nearly every category page has a custom list of filters. This would require us to create a rule for every single category page and cause [rule collisions](https://www.algolia.com/doc/guides/managing-results/rules/rules-overview/in-depth/rule-matching-algorithm/#precedence-logic).
- Rules have the ability to return custom data as JSON. JSON is good for very simple use-cases but is severly limiting if you were to use it to store content.

Ideally, we want use a Sanity to customize content on a per-page basis:
- SEO content like title, meta tags
- Override the H1 title
- Add header/footer which can support rich text and/or custom widgets
- Interleave custom content (like banners) between a list of products
- Which filters show up

export default ({ children }) => <BlogMarkdown meta={meta}>{children}</BlogMarkdown>